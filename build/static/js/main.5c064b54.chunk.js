(this["webpackJsonpget-scripts"]=this["webpackJsonpget-scripts"]||[]).push([[0],{40:function(e,t,n){e.exports=n(70)},45:function(e,t,n){},62:function(e,t,n){},68:function(e,t,n){},69:function(e,t,n){},70:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),l=n(35),i=n.n(l),o=n(7),c=n(2),s=n(3),u=n(6),m=n(5),p=(n(45),n(1)),d=n(13),g=n(19),h=n.n(g),f=new(function(){function e(){Object(c.a)(this,e),this.auth=h.a.create({baseURL:"https://van-life-server.herokuapp.com",withCredentials:!0})}return Object(s.a)(e,[{key:"signup",value:function(e){var t=e.username,n=e.email,a=e.password;return this.auth.post("/auth/signup",{username:t,email:n,password:a}).then((function(e){return e.data}))}},{key:"login",value:function(e){var t=e.email,n=e.password;return this.auth.post("/auth/login",{email:t,password:n}).then((function(e){return e.data}))}},{key:"logout",value:function(){return this.auth.post("/auth/logout",{}).then((function(e){return e.data}))}},{key:"me",value:function(){return this.auth.get("/auth/me").then((function(e){return e.data}))}}]),e}()),v=r.a.createContext(),b=v.Consumer,E=v.Provider,x=function(e){return function(t){Object(u.a)(a,t);var n=Object(m.a)(a);function a(){return Object(c.a)(this,a),n.apply(this,arguments)}return Object(s.a)(a,[{key:"render",value:function(){var t=this;return r.a.createElement(b,null,(function(n){var a=n.login,l=n.signup,i=n.user,o=n.logout,c=n.isLoggedin;return r.a.createElement(e,Object.assign({login:a,signup:l,user:i,logout:o,isLoggedin:c},t.props))}))}}]),a}(r.a.Component)},j=function(e){Object(u.a)(n,e);var t=Object(m.a)(n);function n(){var e;Object(c.a)(this,n);for(var a=arguments.length,r=new Array(a),l=0;l<a;l++)r[l]=arguments[l];return(e=t.call.apply(t,[this].concat(r))).state={isLoggedin:!1,user:null,isLoading:!0},e.signup=function(t){var n=t.username,a=t.email,r=t.password;f.signup({username:n,email:a,password:r}).then((function(t){return e.setState({isLoggedin:!0,user:t})})).catch((function(t){var n=t.response;return e.setState({message:n.data.statusMessage})}))},e.login=function(t){var n=t.email,a=t.password;f.login({email:n,password:a}).then((function(t){return e.setState({isLoggedin:!0,user:t})})).catch((function(e){return console.log(e)}))},e.logout=function(){f.logout().then((function(){return e.setState({isLoggedin:!1,user:null})})).catch((function(e){return console.log(e)}))},e}return Object(s.a)(n,[{key:"componentDidMount",value:function(){var e=this;f.me().then((function(t){return e.setState({isLoggedin:!0,user:t,isLoading:!1})})).catch((function(t){return e.setState({isLoggedin:!1,user:null,isLoading:!1})}))}},{key:"render",value:function(){var e=this.state,t=e.isLoading,n=e.isLoggedin,a=e.user,l=this.login,i=this.logout,o=this.signup;return t?r.a.createElement("div",null,"Loading"):r.a.createElement(E,{value:{isLoggedin:n,user:a,login:l,logout:i,signup:o}},this.props.children)}}]),n}(a.Component),w=n(14),y=(n(62),n(39));function O(){var e=Object(d.a)(["\n\n    list-style: none;\n    display: flex;\n    justify-content: space-around;\n    flex-flow: row nowrap;\n    width: 30%;\n\n    li {\n      padding: 18px 10px;\n    }\n\n    @media (max-width: 768px) {\n        flex-flow: column nowrap;  \n        position: fixed;\n        transform: ",";\n        right: 0px;\n        height: 20vh;\n        width: 50%;\n        top: 0;\n        background-color: #b1d1c5;\n        align-items: center;\n        padding-top: 3.5rem;\n        transition: transform 0.3s ease-in-out;\n    \n    }\n\n"]);return O=function(){return e},e}var N=w.a.ul(O(),(function(e){return e.open?"translateX(0)":"translateX(100%)"})),C=function(e){var t=e.open;return r.a.createElement(N,{className:"navbar-link",open:t},r.a.createElement("li",null,r.a.createElement(o.b,{to:"/login",id:"home-btn"},r.a.createElement("p",null,"Login"))),r.a.createElement("li",null,r.a.createElement(o.b,{to:"/signup",id:"home-btn"},r.a.createElement("p",null,"Signup"))),r.a.createElement("li",null,r.a.createElement(o.b,{to:"/profile",id:"home-btn"},r.a.createElement("p",null,"Perfil"))))};function k(){var e=Object(d.a)(["\n    \n    width: 2rem;\n    height: 2rem;\n    position: fixed;\n    right: 20px;\n    top: 9px;\n    z-index: 20;\n    display: none;\n\n    @media (max-width: 768px) {\n\n        display: flex;\n        justify-content: space-around;\n        flex-flow: column nowrap;\n    }\n\n\n    div {\n      width: 2rem;\n      height: 0.25rem;\n      border-radius: 5px;\n      background-color: ",";\n      transform-origin: 1px;\n      transition: all 0.3s linear;\n\n      &:nth-child(1) {\n        transform: ",";\n      }\n      \n      &:nth-child(2) {\n        transform : ",";\n        opacity: ",";\n      }\n\n      &:nth-child(3) {\n        transform: ",";\n      }\n    }\n\n"]);return k=function(){return e},e}var L=w.a.div(k(),(function(e){return e.open?"#dbd7cb":"#cb9b42"}),(function(e){return e.open?"rotate(45deg)":"rotate(0)"}),(function(e){return e.open?"translateX(100%)":"translateX(0)"}),(function(e){return e.open?0:1}),(function(e){return e.open?"rotate(-45deg)":"rotate(0)"})),S=function(){var e=Object(a.useState)(!1),t=Object(y.a)(e,2),n=t[0],l=t[1];return r.a.createElement(r.a.Fragment,null,r.a.createElement(L,{open:n,onClick:function(){return l(!n)}},r.a.createElement("div",null),r.a.createElement("div",null),r.a.createElement("div",null)),r.a.createElement(C,{open:n}))};function F(){var e=Object(d.a)(["\n\n  font-family: Impact, Haettenschweiler, 'Arial Narrow Bold', sans-serif;\n  color: #cb9b42;\n  display: flex;\n  justify-content: space-between;\n  width: 100%;\n  heigth: 55px;\n  padding: 0 10px;\n  background: #b1d1c5; \n\n  .logo {\n    padding: 15px 0;\n    font-size: 20px;\n    margin-left: 10px;\n  }\n\n  @media (max-width: 768px){\n    width: 95%;\n  }\n\n"]);return F=function(){return e},e}var A=w.a.nav(F()),D=x(function(e){Object(u.a)(n,e);var t=Object(m.a)(n);function n(){return Object(c.a)(this,n),t.apply(this,arguments)}return Object(s.a)(n,[{key:"render",value:function(){return r.a.createElement(A,null,r.a.createElement("div",{className:"logo"},r.a.createElement(o.b,{to:"/",id:"home-btn"},r.a.createElement("p",null,"Home"))),r.a.createElement(S,null))}}]),n}(a.Component)),P=(n(68),x(function(e){Object(u.a)(n,e);var t=Object(m.a)(n);function n(){return Object(c.a)(this,n),t.apply(this,arguments)}return Object(s.a)(n,[{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement("h1",null,"Welcome ",this.props.user.username))}}]),n}(a.Component))),R=n(15),U=x(function(e){Object(u.a)(n,e);var t=Object(m.a)(n);function n(){var e;Object(c.a)(this,n);for(var a=arguments.length,r=new Array(a),l=0;l<a;l++)r[l]=arguments[l];return(e=t.call.apply(t,[this].concat(r))).state={username:"",email:"",password:""},e.handleFormSubmit=function(t){t.preventDefault();var n=e.state,a=n.username,r=n.email,l=n.password;e.props.signup({username:a,email:r,password:l})},e.handleChange=function(t){var n=t.target,a=n.name,r=n.value;e.setState(Object(R.a)({},a,r))},e}return Object(s.a)(n,[{key:"render",value:function(){var e=this.state,t=e.username,n=e.email,a=e.password;return r.a.createElement("div",{className:"log-cont"},r.a.createElement("div",{className:"left-box"},r.a.createElement("div",{className:"bg-orange"}),r.a.createElement("div",{className:"log-img"}),r.a.createElement("div",{className:"img-text bold style1"},"VanLife"),r.a.createElement("div",{className:"img-text style2"},"Porque la vida es una aventura.")),r.a.createElement("div",{className:"right-box"},r.a.createElement("div",{className:"box"},r.a.createElement("div",{className:"log-title"},"Crea una cuenta"),r.a.createElement("div",{className:"input-box"},r.a.createElement("input",{className:"input-log",type:"text",name:"username",value:t,onChange:this.handleChange,placeholder:"Nombre de usuario"})),r.a.createElement("div",{className:"input-box"},r.a.createElement("input",{className:"input-log",type:"text",name:"email",value:n,onChange:this.handleChange,placeholder:"Email"})),r.a.createElement("div",{className:"input-box"},r.a.createElement("input",{className:"input-log",type:"password",name:"password",value:a,onChange:this.handleChange,placeholder:"******"})),r.a.createElement("button",{onClick:this.handleFormSubmit,className:"log-btn",type:"submit",value:"Signup"},"Reg\xedstrate"),r.a.createElement("div",{className:"border-box"},r.a.createElement("div",{className:"line"}),r.a.createElement("div",{className:"text or"},"\xbfYa tienes una cuenta?")),r.a.createElement("div",{className:"sgnup"}),r.a.createElement("div",{className:"sgnup-link"},r.a.createElement(o.b,{className:"btns-cont-link",to:"/login"},"Entra")))))}}]),n}(a.Component)),X=(n(69),x(function(e){Object(u.a)(n,e);var t=Object(m.a)(n);function n(){var e;Object(c.a)(this,n);for(var a=arguments.length,r=new Array(a),l=0;l<a;l++)r[l]=arguments[l];return(e=t.call.apply(t,[this].concat(r))).state={email:"",password:""},e.handleFormSubmit=function(t){t.preventDefault();var n=e.state,a=n.email,r=n.password;e.props.login({email:a,password:r})},e.handleChange=function(t){var n=t.target,a=n.name,r=n.value;e.setState(Object(R.a)({},a,r))},e}return Object(s.a)(n,[{key:"render",value:function(){var e=this.state,t=e.email,n=e.password;return r.a.createElement("div",{className:"log-cont"},r.a.createElement("div",{className:"left-box"},r.a.createElement("div",{className:"bg-orange"}),r.a.createElement("div",{className:"log-img"}),r.a.createElement("div",{className:"img-text bold style1"},"VanLife"),r.a.createElement("div",{className:"img-text style2"},"Porque la vida es una aventura.")),r.a.createElement("div",{className:"right-box"},r.a.createElement("div",{className:"box"},r.a.createElement("div",{className:"log-title"},"\xa1Bienvenido!"),r.a.createElement("div",{className:"input-box"},r.a.createElement("input",{className:"input-log",type:"text",name:"email",value:t,onChange:this.handleChange,placeholder:"Tu email"})),r.a.createElement("div",{className:"input-box"},r.a.createElement("input",{className:"input-log",type:"password",name:"password",value:n,onChange:this.handleChange,placeholder:"******"})),r.a.createElement("button",{onClick:this.handleFormSubmit,className:"log-btn",type:"submit",value:"Login"},"Entra"),r.a.createElement("div",{className:"border-box"},r.a.createElement("div",{className:"line"}),r.a.createElement("div",{className:"text or"},"O crea una cuenta")),r.a.createElement("div",{className:"sgnup"}),r.a.createElement("div",{className:"sgnup-link"},r.a.createElement(o.b,{className:"btns-cont-link",to:"/signup"},"Reg\xedstrate")))))}}]),n}(a.Component))),B=n(20);var T=x((function(e){var t=e.component,n=e.isLoggedin,a=Object(B.a)(e,["component","isLoggedin"]);return r.a.createElement(p.b,Object.assign({},a,{render:function(e){return n?r.a.createElement(p.a,{to:"/private"}):r.a.createElement(t,e)}}))}));var q=x((function(e){var t=e.component,n=e.isLoggedin,a=Object(B.a)(e,["component","isLoggedin"]);return r.a.createElement(p.b,Object.assign({},a,{render:function(e){return n?r.a.createElement(t,e):r.a.createElement(p.a,{to:"/login"})}}))})),z=h.a.create({baseURL:"http://localhost:4000/api",withCredentials:!0}),H=function(e){throw e},I=function(e){return z.post("/upload",e).then((function(e){return e.data})).catch(H)},J=function(e){return z.patch("/update-photo",e).then((function(e){return e.data})).catch(H)},M=x(function(e){Object(u.a)(n,e);var t=Object(m.a)(n);function n(){var e;Object(c.a)(this,n);for(var a=arguments.length,r=new Array(a),l=0;l<a;l++)r[l]=arguments[l];return(e=t.call.apply(t,[this].concat(r))).state={profilepic:""},e.handleChange=function(t){var n=t.target,a=n.name,r=n.value;e.setState(Object(R.a)({},a,r))},e.handleFileUpload=function(t){console.log("The file to be uploaded is: ",t.target.files[0]);var n=new FormData;n.append("profilepic",t.target.files[0]),I(n).then((function(t){console.log("response is: ",t),e.setState({profilepic:t.secure_url})})).catch((function(e){console.log("Error while uploading the file: ",e)}))},e.handleSubmit=function(t){t.preventDefault(),J(e.state).then((function(e){console.log("added: ",e)})).catch((function(e){console.log("Error while adding the thing: ",e)}))},e}return Object(s.a)(n,[{key:"render",value:function(){var e=this;return r.a.createElement("div",null,r.a.createElement("h2",null,"New Pic"),r.a.createElement("form",{encType:"multipart/form-data",onSubmit:function(t){return e.handleSubmit(t)}},r.a.createElement("input",{type:"file",onChange:function(t){return e.handleFileUpload(t)}}),r.a.createElement("button",{type:"submit"},"Save new thing")))}}]),n}(a.Component)),V=x(function(e){Object(u.a)(n,e);var t=Object(m.a)(n);function n(){return Object(c.a)(this,n),t.apply(this,arguments)}return Object(s.a)(n,[{key:"render",value:function(){var e=this.props,t=e.user,n=e.logout,a=e.isLoggedin;return r.a.createElement("div",{className:"home-cont"},a?r.a.createElement(r.a.Fragment,null,r.a.createElement(q,{exact:!0,path:"/private",component:P}),r.a.createElement("p",{className:"navbar-user"},"username: ",t.username),r.a.createElement(M,null),r.a.createElement("button",{className:"navbar-button",onClick:n},"Logout")):r.a.createElement(r.a.Fragment,null,r.a.createElement(p.d,null,r.a.createElement(T,{exact:!0,path:"/signup",component:U}),r.a.createElement(T,{exact:!0,path:"/login",component:X}))))}}]),n}(a.Component)),W=function(e){Object(u.a)(n,e);var t=Object(m.a)(n);function n(){return Object(c.a)(this,n),t.apply(this,arguments)}return Object(s.a)(n,[{key:"render",value:function(){return r.a.createElement(j,null,r.a.createElement(D,null),r.a.createElement("div",{className:"app-container"},r.a.createElement(p.d,null,r.a.createElement(T,{exact:!0,path:"/signup",component:U}),r.a.createElement(T,{exact:!0,path:"/login",component:X}),r.a.createElement(V,null))))}}]),n}(a.Component);i.a.render(r.a.createElement(o.a,null,r.a.createElement(W,null)),document.getElementById("root"))}},[[40,1,2]]]);
//# sourceMappingURL=main.5c064b54.chunk.js.map